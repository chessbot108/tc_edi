Let $pre(i, j)$ be the answer to the query $x = i$ and $b = j$. Notice that $pre(i, j)$ is just the minimum of the minimum value in the reactangle from $(0, 0)$ to $(i,j-1)$, the minimum value in the rectangle from $(0, 0)$ to $(i-1, j)$, and the value at $(i, j)$ itself. We can write this as $pre(i, j) = min(pre(i-1, j), pre(i, j-1), A[i][j])$ where $A[i][j]$ is the beauty value at square $(i, j)$. Each of the $N\cdot M$ states has constant trasition time, so the total complexity is $O(N\cdot M)$.
